<!doctype html>
<html lang="en">
<head>
    <title>Code Test</title>
    <link rel="stylesheet" href="style/normalize.css" />
    <link rel="stylesheet" href="style/style.css" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
</head>
<body class="nav-open">

  <!-- hidden checkbox to heep track of slide menu toggle state -->
  <input type="checkbox" id="main-nav-toggle" />
  <div id="item-nav-toggle" class="hide"></div>

  <div class="wrapper">
    <header>

      <label for="main-nav-toggle" class="toggle" onclick="" title="Menu">
          <svg class="nav-toggle" xmlns="http://www.w3.org/2000/svg" width="62" height="62" viewBox="0 0 62 62">
            <g class="hamburger-x" fill="#FFF">
              <polygon points="39.829 30.431 61.626 8.716 52.874 0 30.923 21.863 8.597 .391 0 9.255 22.171 30.578 .377 52.284 9.129 61 31.074 39.144 53.406 60.618 62 51.754"/>
            </g>
            <g class="hamburger" fill="#FFF">
              <polygon class="black1" fill="#000"  points="0 0 62 0 62 10 0 10" style="transform: translateY(-10px)" />
              <polygon class="black2" fill="#000"  points="0 42 62 42 62 52 0 52" style="transform: translateY(10px)" />
              <polygon class="top"   points="0 0 62 0 62 10 0 10"/>
              <polygon class="middle"points="0 21 62 21 62 31 0 31 0 21"/>
              <polygon class="bottom"points="0 42 62 42 62 52 0 52"/>
            </g>
          </svg>
      </label>

      <svg class="logo logo-desktop" xmlns="http://www.w3.org/2000/svg" width="78" height="24" viewBox="0 0 78 24">
        <g>
        	<path fill="#FEFEFE" d="M9.9,6.6L9.9,0.3h2.5v10.4h-2.3l-4-6.2l0.1,6.2H3.7V0.3H6L9.9,6.6z"/>
        	<path fill="#FEFEFE" d="M16.7,5.6c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C18.8,10.8,16.7,8.3,16.7,5.6
        		L16.7,5.6z M19.3,5.5c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C20.3,2.4,19.3,4,19.3,5.5L19.3,5.5z"/>
        	<path fill="#FEFEFE" d="M39.1,3.8c-0.1-0.3-0.3-0.5-0.5-0.7c-0.4-0.4-1-0.6-1.7-0.6c-1.3,0-2.8,1-2.8,3c0,2.2,1.5,3.1,2.8,3.1
        		c0.7,0,1.2-0.2,1.6-0.5c0.4-0.3,0.7-0.7,0.9-1.2h-3.1V4.8h6.2c0.1,0.7,0,2-0.5,3c-1,2.3-3.3,3.1-5,3.1c-3.1,0-5.5-2.5-5.5-5.4
        		c0-3.1,2.5-5.3,5.5-5.3c2.5,0,4.6,1.7,5.2,3.7H39.1z"/>
        	<path fill="#FEFEFE" d="M46.1,5.6c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C48.3,10.8,46.1,8.3,46.1,5.6
        		L46.1,5.6z M48.8,5.5c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C49.8,2.4,48.8,4,48.8,5.5L48.8,5.5z"/>
        	<path fill="#FFFFFF" d="M3.7,12.7h2.6v8h6.1v2.3H3.7V12.7z"/>
        	<path fill="#FFFFFF" d="M16.3,18c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C18.5,23.3,16.3,20.7,16.3,18
        		L16.3,18z M18.9,17.9c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C19.9,14.8,18.9,16.4,18.9,17.9L18.9,17.9z"
        		/>
        	<path fill="#FFFFFF" d="M38.8,16.2c-0.1-0.3-0.3-0.5-0.5-0.7c-0.4-0.4-1-0.6-1.7-0.6c-1.3,0-2.8,1-2.8,3c0,2.2,1.5,3.1,2.8,3.1
        		c0.7,0,1.2-0.2,1.6-0.5c0.4-0.3,0.7-0.7,0.9-1.2h-3.1v-2.1H42c0.1,0.7,0,2-0.5,3c-1,2.3-3.3,3.1-5,3.1c-3.1,0-5.5-2.5-5.5-5.4
        		c0-3.1,2.5-5.3,5.5-5.3c2.5,0,4.6,1.7,5.2,3.7H38.8z"/>
        	<path fill="#FFFFFF" d="M45.8,18c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C47.9,23.3,45.8,20.7,45.8,18
        		L45.8,18z M48.4,17.9c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C49.4,14.8,48.4,16.4,48.4,17.9L48.4,17.9z"
        		/>
        </g>


      </svg>

      <nav>
        <div class="logo-mobile">
            <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="78" height="24" viewBox="0 0 78 24">
              <g>
  	<path fill="#FEFEFE" d="M9.9,6.6L9.9,0.3h2.5v10.4h-2.3l-4-6.2l0.1,6.2H3.7V0.3H6L9.9,6.6z"/>
  	<path fill="#FEFEFE" d="M16.7,5.6c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C18.8,10.8,16.7,8.3,16.7,5.6
  		L16.7,5.6z M19.3,5.5c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C20.3,2.4,19.3,4,19.3,5.5L19.3,5.5z"/>
  	<path fill="#FEFEFE" d="M39.1,3.8c-0.1-0.3-0.3-0.5-0.5-0.7c-0.4-0.4-1-0.6-1.7-0.6c-1.3,0-2.8,1-2.8,3c0,2.2,1.5,3.1,2.8,3.1
  		c0.7,0,1.2-0.2,1.6-0.5c0.4-0.3,0.7-0.7,0.9-1.2h-3.1V4.8h6.2c0.1,0.7,0,2-0.5,3c-1,2.3-3.3,3.1-5,3.1c-3.1,0-5.5-2.5-5.5-5.4
  		c0-3.1,2.5-5.3,5.5-5.3c2.5,0,4.6,1.7,5.2,3.7H39.1z"/>
  	<path fill="#FEFEFE" d="M46.1,5.6c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C48.3,10.8,46.1,8.3,46.1,5.6
  		L46.1,5.6z M48.8,5.5c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C49.8,2.4,48.8,4,48.8,5.5L48.8,5.5z"/>
  	<path fill="#FFFFFF" d="M3.7,12.7h2.6v8h6.1v2.3H3.7V12.7z"/>
  	<path fill="#FFFFFF" d="M16.3,18c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C18.5,23.3,16.3,20.7,16.3,18
  		L16.3,18z M18.9,17.9c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C19.9,14.8,18.9,16.4,18.9,17.9L18.9,17.9z"
  		/>
  	<path fill="#FFFFFF" d="M38.8,16.2c-0.1-0.3-0.3-0.5-0.5-0.7c-0.4-0.4-1-0.6-1.7-0.6c-1.3,0-2.8,1-2.8,3c0,2.2,1.5,3.1,2.8,3.1
  		c0.7,0,1.2-0.2,1.6-0.5c0.4-0.3,0.7-0.7,0.9-1.2h-3.1v-2.1H42c0.1,0.7,0,2-0.5,3c-1,2.3-3.3,3.1-5,3.1c-3.1,0-5.5-2.5-5.5-5.4
  		c0-3.1,2.5-5.3,5.5-5.3c2.5,0,4.6,1.7,5.2,3.7H38.8z"/>
  	<path fill="#FFFFFF" d="M45.8,18c0-3.4,2.6-5.5,5.5-5.5c3.2,0,5.5,2.5,5.5,5.4s-2.3,5.4-5.5,5.4C47.9,23.3,45.8,20.7,45.8,18
  		L45.8,18z M48.4,17.9c0,1.6,1.1,3.1,2.9,3.1c1.9,0,2.8-1.7,2.8-3c0-1.3-0.9-3.1-2.8-3.1C49.4,14.8,48.4,16.4,48.4,17.9L48.4,17.9z"
  		/>
  </g>

            </svg>
        </div>
        <ul id="nav" class="nav_primary"></ul>
        <div id="copy">Â©<span id="thisYear"></span> Fancybrand. All Rights Reserved.</div>
      </nav>

    </header>

    <section>
      <div id="hero">
        <div id="mobile-hero"></div>
        <p id="page-title" class="headline">this is just <br/>typography.</p>
      </div>
    </section>

    <section class="container">
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </section>

    <div id="overlay" onclick="ui()"></div>

  </div>




  <script src="js/ui.js"></script>
  <script>

    makeMenuItems  = (data) => {
        // JSON data loaded on callback below

        // checks builds a set of radio buttons, hidden, for UI state
        let checks = '';

        let nav = '';
        for (let i = 0; i < data.items.length; i++) {

          let subnav = ''
          for (let l = 0; l < data.items[i].items.length; l++) {
            // MAKE subnav
            subnav += `
              <li class="nav-item_secondary selectable" id="secondary_${i+'-'+l}">
                <a
                  onclick="ui(&#39;${data.items[i].items[l].label}&#39;,&#39;${i}&#39;,&#39;${l}&#39;)"
                  href="${data.items[i].items[l].url}"
                >
                  <span>${data.items[i].items[l].label}</span>
                </a>
              </li>
            `
            checks += `
              <input type="radio" name="item-nav" id="item-nav-toggle-secondary_${i+'-'+l}" class="hide nav-input"/>
            `
          }
          // MAKE nav, place subnav in each nav
          nav += `
            <li class="nav-item_primary selectable" id="primary_${i}">
              <a
                onclick="ui(&#39;${data.items[i].label}&#39;,&#39;${i}&#39;)"
                href="${data.items[i].url}"
              >
              <span>${data.items[i].label}</span>
              </a>
              <ul class="nav_secondary" id="secondary_${i}">
                ${subnav}
              </ul>
            </li>
          `
          checks += `
            <input type="radio" name="item-nav" id="item-nav-toggle-primary_${i}" class="hide nav-input"/>
          `
        }

        // append nav
        document.getElementById('nav').innerHTML = nav

        // append checkboxes and unwrap to keep them at root html level so CSS classes can cascade
        document.getElementById('item-nav-toggle').innerHTML = checks
        const navChecks = document.getElementById('item-nav-toggle')
        const parent = navChecks.parentNode;
        while (navChecks.firstChild) parent.insertBefore(navChecks.firstChild, navChecks);
        parent.removeChild(navChecks);
    }

  //LOAD JSONp as script first, append to head, run callback function to parse JSON
    const script = document.createElement('script')
    script.src = './api/navigation/?callback=makeMenuItems'
    document.head.appendChild(script)

    var d = new Date();
    document.getElementById("thisYear").innerHTML = d.getFullYear();

  </script>

</body>
</html>
